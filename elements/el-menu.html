<dom-module id="el-menu">
	<style>
		:host, .main {
			display: flex;
			flex-direction: column;
			justify-content: space-around;
		}
		.main a {
			display: block;
			padding: 15px 5px;
			text-align: center;
			text-decoration: none;
		}
		.main a, .main a:visited {
			color: var(--menu-main-link-color, orange);
		}

	</style>
	<template>
		<div class="main">
			<a on-tap="_tap" href="/" hidden="[[authed]]">Dashboard</a>
			<a on-tap="_tap" href="/dashboard" hidden="[[authed]]">Dashboard</a>
			<a on-tap="_tap" href="/callsigns" >Callsigns</a>
			<a on-tap="_tap" href="/nets" >Nets</a>
			<a href="http://www.ni4ce.org" title="NI4CE Website" target="_blank" >NI4CE</a>
		</div>
	</template>
</dom-module>
<script>
	Polymer({
		is: 'el-menu',
		behaviors: [
			Polymer.ELBehaviorBase,
		],
		properties: {
			authed: {
				type: Boolean,
				value: false
			},
		},
		attached: function() {
			// set our domain name
			this.domain = window.location.origin;

			// get all links starting with our domain
			var anchors = this.querySelectorAll("[href^='" + this.domain + "']");
			for(a in anchors) {
				// disable click event
				anchors[a].onclick = function() { event.preventDefault() };
			}

		},
		_tap: function () {
			// get link href
			var href = event.target.href;
			// remove our domain name plus trailing slash
			var suburl = substr(this.domain.length + 1);
			// split into location array
			var location = suburl.split('/');
			// pass that array to setPage
			BPC.setPage(location);
		},
	});
</script>
 